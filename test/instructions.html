<!DOCTYPE html>
<html lang="en-AU">
<head>
	<meta charset="UTF-8" />
	<title>instruction tests · relevance tests</title>

	<!-- Load local jQuery. This can be overridden with a ?jquery=___ param. -->
	<script src="../libs/jquery-loader.js"></script>
	<!-- Load local QUnit. -->
	<link rel="stylesheet" href="../libs/qunit/qunit.css" media="screen">
	<script src="../libs/qunit/qunit.js"></script>
	<!-- Load local lib and tests. -->
	<script src="../src/jquery.relevance.js"></script>
	<script src="instructions.js"></script>
	<!-- Removing access to jQuery and $. But it'll still be available as _$, if
		you REALLY want to mess around with jQuery in the console. REMEMBER WE
		ARE TESTING A PLUGIN HERE, THIS HELPS ENSURE BEST PRACTICES. REALLY. -->
	<script>window._$ = jQuery.noConflict(true);</script>

	<style>
		body {
			padding: 2em;
			font-family: sans-serif;
			background: #faf7f3;
			color: #111;
		}

		.relevance {
			color: red;
			font-weight: bold;
		}

		.relevancy {
			color: purple;
			font-weight: bold;
		}

		#qunit-fixture {
			position: static;
		}
	</style>
</head>

<body>



	<div id="qunit"></div>
	<div id="qunit-fixture">

		<form id="test" action="javascript:">
			<ol class="questions">

				<li class="section">
					<fieldset>
						<legend>
							<span class="h2">Personal details</span>
						</legend>
						<ol class="questions">

							<li class="atomic group">
								<fieldset>
									<legend>
										<span class="label">Home address</span>
									</legend>
									<ol class="questions">
										<li>
											<label for="residential-address">
												<span class="label">Street address</span>
												<abbr class="required" title="(required)">*</abbr>
											</label>
											<textarea id="residential-address" name="residential-address" rows="2" cols="20" required="required"></textarea>
										</li>
										<li class="group">
											<ol class="questions compact">
												<li>
													<label for="residential-address3">
														<span class="label">Town or suburb</span>
														<abbr class="required" title="(required)">*</abbr>
													</label>
													<input id="residential-address3" name="residential-address" size="20" value="" required="required" type="text" />
												</li>
												<li>
													<label for="residential-address-qld">
														<span class="label">State</span>
														<abbr class="required" title="(required)">*</abbr>
													</label>
													<select id="residential-address-qld" name="residential-address" required="required">
														<option value="" class="placeholder">Please select&hellip;</option>
														<option>ACT</option>
														<option>NSW</option>
														<option>NT</option>
														<option selected="selected">QLD</option>
														<option>SA</option>
														<option>TAS</option>
														<option>VIC</option>
														<option>WA</option>
													</select>
												</li>
												<li>
													<label for="residential-address4">
														<span class="label">Postcode</span>
														<abbr class="required" title="(required)">*</abbr>
													</label>
													<input id="residential-address4" name="residential-address" size="5" value="" required="required" type="text" />
												</li>
											</ol>
										</li>
										<li>
											<label for="residential-address-australia">
												<span class="label">Country</span>
												<abbr class="required" title="(required)">*</abbr>
											</label>
											<select id="residential-address-australia" name="residential-address" required="required">
												<option value="" class="placeholder">Please select&hellip;</option>
												<option selected="selected">Australia</option>
											</select>
										</li>
									</ol>
								</fieldset>
							</li>

							<li>
								<input id="use-my-residential-address-as-my-postal-address" name="use-my-residential-address-as-my-postal-address" value="true" type="checkbox" checked="checked" />
								<label for="use-my-residential-address-as-my-postal-address">Use my home address as my postal address.</label>
							</li>

							<li class="atomic group">
								<fieldset>
									<legend>
										<span class="label">Postal address</span>
										<small class="hint relevance">(If different to home address)</small>
									</legend>
									<ol class="questions">
										<li>
											<label for="postal-address">
												<span class="label">Street address or PO box</span>
												<abbr class="required" title="(required)">*</abbr>
											</label>
											<textarea id="postal-address" name="postal-address" rows="2" cols="20"></textarea>
										</li>
										<li class="group">
											<ol class="questions compact">
												<li>
													<label for="postal-address3">
														<span class="label">Town or suburb</span>
														<abbr class="required" title="(required)">*</abbr>
													</label>
													<input id="postal-address3" name="postal-address" size="20" value="" type="text" />
												</li>
												<li>
													<label for="postal-address-qld">
														<span class="label">State</span>
														<abbr class="required" title="(required)">*</abbr>
													</label>
													<select id="postal-address-qld" name="postal-address">
														<option value="" class="placeholder">Please select&hellip;</option>
														<option>ACT</option>
														<option>NSW</option>
														<option>NT</option>
														<option selected="selected">QLD</option>
														<option>SA</option>
														<option>TAS</option>
														<option>VIC</option>
														<option>WA</option>
													</select>
												</li>
												<li>
													<label for="postal-address4">
														<span class="label">Postcode</span>
														<abbr class="required" title="(required)">*</abbr>
													</label>
													<input id="postal-address4" name="postal-address" size="5" value="" type="text" />
												</li>
											</ol>
										</li>
										<li>
											<label for="postal-address-australia">
												<span class="label">Country</span>
												<abbr class="required" title="(required)">*</abbr>
											</label>
											<select id="postal-address-australia" name="postal-address">
												<option value="" class="placeholder">Please select&hellip;</option>
												<option selected="selected">Australia</option>
											</select>
										</li>
									</ol>
								</fieldset>
							</li>

						</ol>
					</fieldset>
				</li>

				<li class="section">
					<fieldset>
						<legend>
							<span class="h2">What is your Australian work status?</span>
						</legend>
						<ol class="questions">

							<li>
								<label for="work-status">
									<span class="label">What is your current work status?</span>
									<abbr title="(required)">*</abbr>
									<small class="hint">You must be legally entitled to work in Australia to apply for a Queensland Government job.</small>
								</label>
								<select id="work-status" name="workStatus" required="required">
									<option value="" class="placeholder">Please select&hellip;</option>
									<option>Australian citizen</option>
									<option>Australian resident</option>
									<option>New Zealand citizen</option>
									<option>New Zealand resident</option>
									<option>Current working visa</option>
									<option>Other</option>
								</select>
							</li>

							<li>
								<label for="permit-expiry-date">
									<span class="label">Permit expiry date</span>
									<abbr class="required" title="(required)">*</abbr>
									<small class="hint relevance">(If you chose ‘Current working visa’ above)</small>
								</label>
								<input id="permit-expiry-date" name="permit-expiry-date" size="20" required="required" type="date" />
							</li>

						</ol>
					</fieldset>
				</li>

				<li class="section">
					<fieldset>
						<legend>
							<span class="h2">Queensland Government employee</span>
						</legend>
						<ol class="questions">
							<li>
								<fieldset>
									<legend>
										<span class="label">Are you currently employed by the Queensland Government?</span>
										<abbr class="required" title="(required)">*</abbr>
									</legend>
									<ul class="choices compact">
										<li><input id="are-you-currently-employed-by-the-queensland-government-yes" name="are-you-currently-employed-by-the-queensland-government" value="Yes" required="required" type="radio" /><label for="are-you-currently-employed-by-the-queensland-government-yes">Yes</label></li>
										<li><input id="are-you-currently-employed-by-the-queensland-government-no" name="are-you-currently-employed-by-the-queensland-government" value="No" required="required" type="radio" /><label for="are-you-currently-employed-by-the-queensland-government-no">No</label></li>
									</ul>
								</fieldset>
							</li>
							<li class="section">
								<fieldset>
									<legend>
										<span class="h3">Current job</span>
										<small class="hint relevance">(If you chose ‘Yes’ above)</small>
									</legend>
									<ol class="questions">
										<li>
											<label for="job-title">
												<span class="label">Job title</span>
											</label>
											<input name="job-title" id="job-title" />
										</li>
										<li>
											<label for="classification">
												<span class="label">Classification</span>
											</label>
											<select name="classification" id="classification">
												<option value="" class="placeholder">Please select&hellip;</option>
												<option></option>
											</select>
										</li>
										<li>
											<label for="person-id">
												<span class="label">Government ID number</span>
											</label>
											<input name="person-id" id="person-id" />
										</li>
										<li>
											<label for="department-organisation">
												<span class="label">Department or organisation</span>
											</label>
											<select name="department-organisation" id="department-organisation">
												<option value="" class="placeholder">Please select&hellip;</option>
												<option></option>
											</select>
										</li>
										<li>
											<label for="location">
												<span class="label">Location</span>
											</label>
											<input name="location" id="location" size="30" />
										</li>
										<li>
											<label for="job-type">
												<span class="label">Job type</span>
											</label>
											<select name="job-type" id="job-type">
												<option value="" class="placeholder">Please select&hellip;</option>
												<option>Permanent full-time</option>
												<option>Permanent part-time</option>
												<option>Temporary full-time</option>
												<option>Temporary part-time</option>
												<option>Contract</option>
												<option>Casual</option>
											</select>
										</li>

									</ol>
								</fieldset>
							</li>

							<li>
								<fieldset>
									<legend>
										<span class="label">Have you received an early retirement, redundancy or retrenchment benefit from a Queensland Government entity within the last 12 months or a voluntary separation payment within the last 3 years?</span>
										<abbr class="required" title="(required)">*</abbr>
									</legend>
									<ul class="choices compact">
										<li><input id="have-you-received-an-early-retirement-yes" name="have-you-received-an-early-retirement" value="Yes" required="required" type="radio" /><label for="have-you-received-an-early-retirement-yes">Yes</label></li>
										<li><input id="have-you-received-an-early-retirement-no" name="have-you-received-an-early-retirement" value="No" required="required" type="radio" /><label for="have-you-received-an-early-retirement-no">No</label></li>
									</ul>
								</fieldset>
							</li>

							<li>
								<label for="retirement-date">
									<span class="label">Date of receipt</span>
									<abbr class="required" title="(required)">*</abbr>
									<small class="hint relevance">(If you chose ‘Yes’ above)</small>
								</label>
								<input id="retirement-date" name="retirement-date" size="20" required="required" type="date" />
							</li>

						</ol>
					</fieldset>
				</li>

				<li>
					<fieldset id="pet-owner">
						<legend>
							<span class="label">Do you own a pet?</span>
						</legend>
						<ul class="choices">
							<li><input type="radio" name="pet-owner" id="pet-owner-yes" value="Yes" /><label for="pet-owner-yes">Yes</label></li>
							<li><input type="radio" name="pet-owner" id="pet-owner-no" value="No" /><label for="pet-owner-no">No</label></li>
						</ul>
					</fieldset>
				</li>

				<li>
					<fieldset id="pets">
						<legend>
							<span class="label">Which pets do you own?</span>
							<small class="hint relevance">(If you chose ‘Yes’ above)</small>
						</legend>
						<ul class="choices">
							<li><input type="checkbox" name="pets" id="pets-bird" value="Bird" /><label for="pets-bird">Bird</label></li>
							<li><input type="checkbox" name="pets" id="pets-cat" value="Cat" /><label for="pets-cat">Cat</label></li>
							<li><input type="checkbox" name="pets" id="pets-dog" value="Dog" /><label for="pets-dog">Dog</label></li>
						</ul>
					</fieldset>
				</li>

				<li class="section">
					<fieldset id="cat-owners">
						<legend>
							<span class="h2">Cat owners</span>
							<small class="hint relevance">(If you chose ‘Cat’ above)</small>
						</legend>
						<p>Questions for cat owners go here.</p>
					</fieldset>
				</li>

				<li class="section">
					<fieldset id="dog-owners">
						<legend>
							<span class="h2">Dog owners</span>
							<small class="hint relevance">(If you chose ‘Dog’ above)</small>
						</legend>
						<p>Questions for dog owners go here.</p>
					</fieldset>
				</li>

				<li class="section">
					<fieldset id="bird-owners">
						<legend>
							<span class="h2">Bird owners</span>
							<small class="hint relevance">(If you chose ‘Bird’ above)</small>
						</legend>
						<p>Questions for bird owners go here.</p>
					</fieldset>
				</li>


				<!-- issue #6
				initial instruction relevance does not handle dependent relevance
				https://github.com/Forces/relevance/issues/6 -->
				<li>
					<label for="foo">
						<span class="label">Foo</span>
					</label>
					<select id="foo" name="foo">
						<option selected="selected">Foo</option>
						<option>Bar</option>
					</select>
				</li>
				<li>
					<label for="bar">
						<span class="label">Bar</span>
						<small class="relevance">(If you chose ‘Bar’ above)</small>
					</label>
					<select id="bar" name="bar">
						<option>Bar</option>
						<option selected="selected">Baz</option>
					</select>
				</li>
				<li>
					<label for="baz">
						<span class="label">Baz</span>
						<small class="relevance">(If you chose ‘Baz’ above)</small>
					</label>
					<input id="baz" />
				</li>

				<!-- issue #11
				values are not extracted when they contain punctuation characters
				https://github.com/Forces/relevance/issues/11 -->
				<li>
					<fieldset>
						<legend>
							<span class="label">How much would you like to donate?</span>
							<abbr title="(required)">*</abbr>
						</legend>
						<ul class="choices">
							<li><input type="radio" name="donation" required="required" id="donation-5" value="$5.00" /><label for="donation-5">$5.00</label></li>
							<li><input type="radio" name="donation" required="required" id="donation-20" value="$20.00" /><label for="donation-20">$20.00</label></li>
							<li><input type="radio" name="donation" required="required" id="donation-50" value="$50.00" /><label for="donation-50">$50.00</label></li>
							<li><input type="radio" name="donation" required="required" id="donation-100" value="$100.00" /><label for="donation-100">$100.00</label></li>
							<li><input type="radio" name="donation" required="required" id="donation-1000" value="$1000.00" /><label for="donation-1000">$1000.00</label></li>
							<li><input type="radio" name="donation" required="required" id="donation-other-amount" value="other amount" /><label for="donation-other-amount">other amount</label></li>
						</ul>
					</fieldset>
				</li>

				<li>
					<label for="donation-name">
						<span class="label">Your name</span>
						<small class="relevance">(If you chose '$1000.00' above)</small>
						<small class="hint">We will publish your name in our list of major supporters</small>
					</label>
					<input id="donation-name" name="donationName" size="40" required="required" />
				</li>

				<li>
					<label for="donation-amount">
						<span class="label">How much would you like to donate?</span>
						<abbr title="(required)">*</abbr>
						<small class="relevance">(If you chose 'other amount' above)</small>
					</label>
					<input id="donation-amount" name="donationAmount" size="10" required="required" />
				</li>


				<!-- issue #12
				controls nested in a preceding section cannot toggle relevance
				https://github.com/Forces/relevance/issues/12 -->
				<li class="section" id="gating-section">
					<fieldset>
						<legend>
							<span class="h2">Gating section</span>
						</legend>
						<ol class="questions">
							<li>
								<fieldset>
									<legend>
										<span class="label">First gate</span>
									</legend>
									<ul class="choices">
										<li>
											<input id="first-gate-A" type="checkbox" name="firstGate" value="A" />
											<label for="first-gate-A">A</label>
										</li>
										<li>
											<input id="first-gate-B" type="checkbox" name="firstGate" value="B" />
											<label for="first-gate-B">B</label>
										</li>
									</ul>
								</fieldset>
							</li>
							<li>
								<fieldset id="second-gate">
									<legend>
										<span class="label">Second gate</span>
										<small class="relevance">(If you chose 'A' above)</small>
									</legend>
									<ul class="choices">
										<li>
											<input id="second-gate-A" type="checkbox" name="secondGate" value="A" />
											<label for="second-gate-A">A</label>
										</li>
										<li>
											<input id="second-gate-B" type="checkbox" name="secondGate" value="B" />
											<label for="second-gate-B">B</label>
										</li>
									</ul>
								</fieldset>
							</li>
						</ol>
					</fieldset>
				</li>

				<li class="section">
					<fieldset id="after-gates">
						<legend>
							<span class="h2">After gates</span>
							<!-- TODO issue in location of correct question with 'A' value here -->
							<small class="relevance">(If you chose 'A' above)</small>
						</legend>
					</fieldset>
				</li>
			</ol>
		</form>


		<!-- custom instruction formats -->
		<form id="test-custom">
			<div class="Choice">
				<div class="row">
					<fieldset id="pet-owner2">
						<legend>
							<span class="label">Do you own a pet?</span>
						</legend>
						<ul class="choices">
							<li><input type="radio" name="pet-owner2" id="pet-owner2-yes" value="Yes" /><label for="pet-owner2-yes">Yes</label></li>
							<li><input type="radio" name="pet-owner2" id="pet-owner2-no" value="No" /><label for="pet-owner2-no">No</label></li>
						</ul>
					</fieldset>
				</div>
			</div>


			<div class="Choice">
				<!-- <p class="relevancy">Please answer the following question only if you answered 'Yes' to question 2.</p> -->
				<p class="relevancy">(If you chose 'Yes' above)</p>
				<div class="row">
					<fieldset id="pets2">
						<legend>Which pets do you own?</legend>
						<ul class="choices">
							<li><input type="checkbox" name="pets2" id="pets2-bird" value="Bird" /><label for="pets2-bird">Bird</label></li>
							<li><input type="checkbox" name="pets2" id="pets2-cat" value="Cat" /><label for="pets2-cat">Cat</label></li>
							<li><input type="checkbox" name="pets2" id="pets2-dog" value="Dog" /><label for="pets2-dog">Dog</label></li>
						</ul>
					</fieldset>
				</div>
			</div>


			<div class="Text" id="pets2-no">
				<!-- <p class="relevancy">Please answer the following question only if you answered 'No' to question 2.</p> -->
				<p class="relevancy">(If you chose 'No' above)</p>
				<div class="row">
					<fieldset>
						<legend>Why don't you own a pet?</legend>
						<textarea name="why-no-pet" id="why-no-pet"></textarea>
					</fieldset>
				</div>
			</div>

			<fieldset class="group" id="cat-owners2">
				<legend>Cat</legend>
				<!-- <p class="relevancy">Please answer the questions in this group only if you answered 'Cat' to question 3.</p> -->
				<p class="relevancy">(If you chose 'Cat' above)</p>
				<p>Questions for cat owners go here.</p>
			</fieldset>

			<fieldset class="group" id="dog-owners2">
				<legend>Dog</legend>
				<!-- <p class="relevancy">Please answer the questions in this group only if you answered 'Dog' to question 3.</p> -->
				<p class="relevancy">(If you chose 'Dog' above)</p>
				<p>Questions for dog owners go here.</p>
			</fieldset>

			<fieldset class="group" id="bird-owners2">
				<legend>Bird</legend>
				<!-- <p class="relevancy">Please answer the questions in this group only if you answered 'Bird' to question 3.</p> -->
				<p class="relevancy">(If you chose 'Bird' above)</p>
				<p>Questions for bird owners go here.</p>
			</fieldset>

		</form>

	</div>


</body>
</html>
